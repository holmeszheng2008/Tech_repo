yaml:
server:
	port: 1888
	ssl:
		trust-store: "path"
	http:
		port: 8888

// Add a new connector
@Configuration
public class HttpConfig {
	@Value("${server.http.port}")
	private int httpPort;

	@Bean
	public ServletWebServerFactory servletContainer() {
		TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();
		factory.addAdditionalTomcatConnectors(createStanderConnector());
		return factory;
	}
	
	private Connector createStanderConnector() {
		Connector connector = new Connector(TomcatServletWebServerFactory.DEFAULT_PROTOCOL);
		connector.setPort(httpPort);
		return connector;
	}
}

// route endpoints to http / https channels
// in WebSecurityConfigurerAdapter

@Override
protected void configure(HttpSecurity httpSecurity) throws Exception {
	httpSecurity.requiresChannel()
		.antMatchers("/actuator/health").requiresInsecure()
		.and
		.requiresChannel().anyRequest().requiresSecure();
	
	// authentication
	httpSecurity.authorizeRequests().
	antMatchers("pattern").permitAll()
	.anyRequest()
	.authenticated()
}
